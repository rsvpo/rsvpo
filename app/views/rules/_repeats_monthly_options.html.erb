<fieldset class="rule_option" id="repeats_monthly_options">
  <%= f.number_field :repeats_every_n_months, :label => "每N月重複" %>
  <%= f.select :repeats_monthly, ['日期','星期N'], :label => "重複於" %>
  <div class="form-group" id="rule_repeats_monthly_each">
    <label class="control-label col-sm-3">選擇日期</label>
    <div class="col-sm-8  .col-md-offset-1">
      <% (1..31).to_a.each do |day_of_the_month| %>
        <%= label_tag "rule_repeats_monthly_each_days_of_the_month_#{day_of_the_month}", day_of_the_month, :class => 'checkbox-inline' do %>
          <%= check_box_tag "rule[repeats_monthly_each_days_of_the_month][#{day_of_the_month}]", day_of_the_month, f.object.repeats_monthly_each_days_of_the_month.include?(day_of_the_month), {:name => "rule[repeats_monthly_each_days_of_the_month][]"} %>
          <%= day_of_the_month %>
        <% end %>
      <% end %>
      <%= hidden_field_tag "rule[repeats_monthly_each_days_of_the_month][]", "" %>
    </div>
  </div>
  <div class="form-group" id="rule_repeats_monthly_on">
    <label class="control-label col-sm-3">在</label>
    <div class="col-sm-8  .col-md-offset-1">
      <% [1,2,3,4,-1].each_with_index do |ordinal,index| %>
        <%= label_tag "rule_repeats_monthly_on_ordinals_#{ordinal}", ordinal, :class => 'checkbox-inline' do %>
          <%= check_box_tag "rule[repeats_monthly_on_ordinals][#{ordinal}]", ordinal, f.object.repeats_monthly_on_ordinals.include?(ordinal), {:name => "rule[repeats_monthly_on_ordinals][]"} %>
          <%= ['第一個','第二個','第三個','第四個','最後一個'][index] %>
        <% end %>
      <% end %>
      <%= hidden_field_tag "rule[repeats_monthly_on_ordinals][]", "" %>
      <hr/>
      <% %w[sunday monday tuesday wednesday thursday friday saturday].each_with_index do |day_of_the_week,index| %>
        <%= label_tag "rule_repeats_monthly_on_days_of_the_week_#{day_of_the_week}", day_of_the_week.humanize, :class => 'checkbox-inline' do %>
          <%= check_box_tag "rule[repeats_monthly_on_days_of_the_week][#{day_of_the_week}]", day_of_the_week, f.object.repeats_monthly_on_days_of_the_week.include?(day_of_the_week), {:name => "rule[repeats_monthly_on_days_of_the_week][]"} %>
          <%= ['星期日','星期一','星期二','星期三','星期四','星期五','星期六'][index] %>
        <% end %>
      <% end %>
      <%= hidden_field_tag "rule[repeats_monthly_on_days_of_the_week][]", "" %>
    </div>
  </div>
</fieldset>
