<div class="btn-group">
  <button class="btn btn-default btn-lg dropdown-toggle" type="button" data-toggle="dropdown">
    <% if params[:category].nil? %>
    All Activities
    <% else %>
    <%= categories[params[:category].to_i - 1].name %>
    <% end %>
    <span class="caret"></span>
  </button>
  <ul class="dropdown-menu">
    <% if !params[:category].nil? %>
    <li><%= link_to "All Activities", params.except(:category) %></li>
    <% end %>
    <% categories.each do |catorgory| %>
    <li><%= link_to catorgory.name, params.merge({:query => catorgory.name}) %></li>
    <% end %>
    <li class="divider"></li>
    <li><%= link_to "All Activities", params.except(:query) %></li>
  </ul>
</div>